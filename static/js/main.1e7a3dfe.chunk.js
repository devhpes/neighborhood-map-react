(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,n,t){e.exports=t(46)},23:function(e,n,t){},25:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),i=t(9),r=t.n(i),s=(t(23),t(10)),c=t(11),l=t(15),u=t(12),d=t(16),m=(t(25),t(13)),p=t.n(m),f=t(14),v=t.n(f);var h=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(u.a)(n).call(this,e))).Map=function(){!function(){var e=window.document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyASFSGSrxEXyjwZSqMyzRJBbfq_eFutui8","&callback=initMap"),e.async=!0,e.defer=!0,document.body.appendChild(e)}()},t.getVenues=function(){p.a.get("https://api.foursquare.com/v2/venues/explore?"+new URLSearchParams({client_id:"ZAM2ZVYH1W4E5KRSTWM140LP5UWX20J5XHK4NAUJLO5CJUNH",client_secret:"CZTDHFFXI4SXYOXAN41MCUG2PPDEDIAATTCVRC1FUMGOSI1C",query:"Food",near:"New York",v:"20181107",limit:10})).then(function(e){t.setState({venues:e.data.response.groups[0].items},t.Map())}).catch(function(e){alert("Error Occured While Fetching Foursquare API"+e)})},t.initMap=function(){t.map=new window.google.maps.Map(document.getElementById("map"),{center:{lat:40.73061,lng:-73.935242},zoom:14,mapTypeControl:!0});var e=new window.google.maps.LatLngBounds;t.InfoWindow=new window.google.maps.InfoWindow,t.markers=[],t.venuesInfo=[],t.state.venues.map(function(n){var o="<div><h2>".concat(n.venue.name.toUpperCase(),"</h2>\n                          <h3>Address: ").concat(n.venue.location.address,"</h3>\n                          <h3>Location: ").concat(n.venue.location.city,", ").concat(n.venue.location.state," </h3>\n                          <h3>Pincode: ").concat(n.venue.location.postalCode,"</h3>\n                          <p><strong> ").concat('<a href="https://foursquare.com/v/'+n.venue.id+'" target="_blank">Click Here For More Info</a>'," </strong> </p></div>"),a=new window.google.maps.Marker({map:t.map,position:{lat:n.venue.location.lat,lng:n.venue.location.lng},animation:window.google.maps.Animation.DROP,name:n.venue.name,id:n.venue.id});return a.addListener("click",function(){null!==a.getAnimation()?a.setAnimation(null):a.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){a.setAnimation(null)},1e3)}),window.google.maps.event.addListener(a,"click",function(){t.InfoWindow.setContent(o),t.map.setCenter(a.position),t.InfoWindow.open(t.map,a)}),t.state.markers.push(a),t.venuesInfo.push({id:n.venue.id,name:n.venue.name,contents:o}),e.extend(a.getPosition()),t.map.fitBounds(e),t.setState({map:t.map,InfoWindow:t.InfoWindow,venues:t.venuesInfo,allVenues:t.venuesInfo}),n.marker})},t.clickHandler=function(e){t.state.markers.map(function(n){return n.id===e.id&&window.google.maps.event.trigger(n,"click"),e})},t.handlingSearchQuery=function(e){var n,o;if(t.closeInfoWindow(),t.setState({query:e}),t.state.markers.map(function(e){return e.setVisible(!0)}),e){var a=new RegExp(v()(e),"i");n=t.state.venues.filter(function(e){return a.test(e.name)}),t.setState({venues:n}),o=t.state.markers.filter(function(e){return n.every(function(n){return n.name!==e.name})}),t.setState({hideMarkers:o}),t.state.markers.map(function(e){return o.map(function(n){return n.id===e.id&&e.setVisible(!1),n}),e})}else t.setState({venues:t.state.allVenues})},t.closeInfoWindow=function(){t.state.prevmarker&&t.state.prevmarker.setAnimation(null),t.setState({prevmarker:""}),t.state.InfoWindow.close()},t.state={allVenues:[],venues:[],markers:[],map:[],filterVenues:[],hideMarkers:[],query:"",prevmarker:""},t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getVenues(),window.initMap=this.initMap}},{key:"render",value:function(){var e=this;return a.a.createElement("main",{id:"App"},a.a.createElement("div",{id:"sideBar"},a.a.createElement("div",{className:"heading"},a.a.createElement("h2",null,"Food Places In New York City"),a.a.createElement("div",null,a.a.createElement("input",{type:"text",className:"search",placeholder:"Search..","aria-labelledby":"filter",value:this.state.query,onChange:function(n){e.handlingSearchQuery(n.target.value)}}))),this.state.venues&&this.state.venues.map(function(n,t){return a.a.createElement("div",{key:t,id:"venueList"},a.a.createElement("ul",{id:"listItem",onClick:function(){e.clickHandler(n)}},a.a.createElement("li",null,n.name)))})),a.a.createElement("div",{id:"map","aria-label":"Map",role:"application",tabIndex:"-1"}))}}]),n}(o.Component),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(h,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/neighborhood-map-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/neighborhood-map-react","/service-worker.js");w?(function(e,n){fetch(e).then(function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):g(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):g(n,e)})}}()}},[[17,2,1]]]);
//# sourceMappingURL=main.1e7a3dfe.chunk.js.map